**分散ハッシュテーブル**
* 省略

**階層型アプローチ**
* 階層型アプローチの例としてGlobe location serviceについて説明する [van Steen et al., 1998]．
* 階層スキームでは，ネットワークはドメインの集合に分割される．
  * ネットワーク全体にまたがる単一のトップレベルドメインが存在する．
  * 各ドメインは複数の小さなサブドメインに細分することができます．
* リーフドメインと呼ばれる最低レベルのドメインは，コンピュータネットワーク内のLANまたは携帯電話ネットワーク内のセルに対応する．
* 一般的な前提
  * あるドメインから別のドメインにメッセージを転送するのに要する平均時間は，ドメインが大きいよりも小さい方が早い
* 各ドメインDは，そのドメイン内のエンティティを追跡する関連ディレクトリノードdir（D）を有する．
  * ディレクトリノードのツリーと関連する．
  *  ルート（ディレクトリ）ノードと呼ばれるトップレベルドメインのディレクトリノードは，すべてのエンティティについて知っている（図5.6）．

![5.6](images/05-06.pdf)

* エンティティの所在を追跡するために，現在のドメインDに位置する各エンティティは，ディレクトリノードdir（D）内のロケーションレコードによって表される．
* リーフドメインDのディレクトリノードN内のエンティティEの位置記録は，そのドメイン内のエンティティの現在のアドレスを含む．
* 対照的に，Dを含む次のより高いレベルのドメインD 'のためのディレクトリノードN'は、Nへのポインタのみを含むEのための位置記録を有する．
* 同様に、N 'の親ノードは、E N 'へのポインタのみを含む．
* 結果として、ルートノードは各エンティティのロケーションレコードを持ち、各ロケーションレコードは、そのレコードの関連エンティティが現在位置している次の下位レベルのサブドメインのディレクトリノードへのポインタを格納する．

#### ツリーの構成
* エンティティは，複製されている場合などに複数のアドレスを持つことができる．
* エンティティがリーフドメインD1とD2にそれぞれアドレスを持つ場合
  * D1とD2の両方を含む最小のドメインのディレクトリノードは，アドレスを含む各サブドメインに1つずつ，2つのポインタを持つ．
  * 図5.7に示すようなツリーの一般的な構成につながる．

![5.7](images/05-07.pdf)

#### ルックアップ手順
* 階層的なロケーションサービスでルックアップ操作がどのように進行するか考える．
* 図5.8に示すように，エンティティEを探したいクライアントは，クライアントが存在するリーフドメインDのディレクトリノードにルックアップ要求を発行する．
* ディレクトリノードがエンティティの位置記録を格納していない場合，エンティティは現在Dに位置していない．
* その結果，ノードは要求をその親に転送する。 親ノードはその子ノードより大きなドメインを表すことに注意してください。 親にもEのロケーションレコードがない場合、ルックアップ要求は次のレベルに転送され、以下同様に続きます。

![5.8](images/05-08.pdf)
